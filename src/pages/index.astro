---
import Layout from "../components/Layout.astro";
import * as Icons from "../components/icons";
import { getCurrentLang, getTranslation } from "../i18n/utils";

const links = [
  { name: 'GitHub', url: 'https://github.com/vorkytaka', icon: 'GitHub' },
  { name: 'LinkedIn', url: 'https://linkedin.com/in/', icon: 'LinkedIn' },
  { name: 'Email', url: 'mailto:hello@vorky.dev', icon: 'Email' },
  { name: 'CV / Resume', url: '/resume.pdf', icon: 'Resume' },
];

const currentLang = getCurrentLang(Astro.url, Astro.request);
const t = (key) => getTranslation(currentLang, key);
---
<Layout title="Vorkytaka" description="Software engineer â€” minimalist, fast, and thoughtful web.">
  <section class="stack">
    <h1>
      <a href="/" class="header-link">
        <span class="primary">Vorky</span><span class="darker">taka</span>
      </a>
    </h1>
    {t('description').split('\n\n').map((paragraph) => (
      <p>{paragraph}</p>
    ))}

    <div class="terminal-links" role="navigation" aria-label="Main links">
      <ul>
        {links.map((l) => {
          const IconComponent = Icons[l.icon];
          return (
            <li>
              <a href={l.url} target={l.url.startsWith('http') ? '_blank' : undefined} rel={l.url.startsWith('http') ? 'noopener noreferrer' : undefined}>
                <IconComponent class="icon" />
                <span>{l.name}</span>
              </a>
            </li>
          );
        })}
      </ul>
    </div>
  </section>
</Layout>
